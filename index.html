<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CyberPumpkin Night City Map</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <div id="map-container">
      <!-- SVG with background image and interactive zones -->
      <svg id="night-city-map" viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg" >
        <image href="night-city-map.jpg" width="1000" height="600" />
        <!-- Zones as polygons -->
        <polygon id="watson" class="zone" points="150,100 300,120 280,250 160,230" />
        <polygon id="pacifica" class="zone" points="700,350 850,340 840,480 720,460" />
        <polygon id="city-center" class="zone" points="450,150 600,140 620,300 460,310" />
      </svg>
    </div>
    <aside id="sidebar">
      <h2 id="zone-name">Select a Zone</h2>
      <p id="zone-description">Tap a district on the map to see info here.</p>
    </aside>
  </div>

  <!-- svg-pan-zoom library from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const zones = document.querySelectorAll(".zone");
      const zoneName = document.getElementById("zone-name");
      const zoneDescription = document.getElementById("zone-description");
      let activeZone = null;

      const zoneData = {
        watson: {
          name: "Watson",
          description: "A formerly prosperous corporate zone, now full of immigrants, fixers, and gang activity."
        },
        pacifica: {
          name: "Pacifica",
          description: "Originally a luxury development project, now largely abandoned and ruled by the Voodoo Boys."
        },
        "city-center": {
          name: "City Center",
          description: "The corporate heart of Night City, filled with megatowers, high-end security, and executive dealings."
        }
      };

      zones.forEach(zone => {
        zone.addEventListener("click", () => {
          if (activeZone) activeZone.classList.remove("active");
          zone.classList.add("active");
          activeZone = zone;

          const id = zone.id;
          const data = zoneData[id];
          if (data) {
            zoneName.textContent = data.name;
            zoneDescription.textContent = data.description;
          } else {
            zoneName.textContent = "Unknown Zone";
            zoneDescription.textContent = "No information available.";
          }
        });
      });

      svgPanZoom("#night-city-map", {
        zoomEnabled: true,
        controlIconsEnabled: false,
        fit: false,
        center: false,
        minZoom: 0.5,
        maxZoom: 10,
        dblClickZoomEnabled: false,
        contain: true,
        eventsListenerElement: document.getElementById('map-container'),
        onInitialized: function(api) {
          api.zoom(1.8);
          api.center();
        }
      });
    });
  </script>
</body>
</html>
